{% extends "layout.njk" %}

{%block head%}
    <title>Receitas - Foodfy</title>
{%endblock%}

    {% block content %}
    <div class="recipe-header">
        <h2>Receita: {{recipe.title}}</h2>
        <span><a href="{{recipe.id}}/edit">Editar receita</a></span>
    </div>
        <div class="recipe-box">
            <div class="recipe-image">
                {%for file in recipeImage %}
                {%if file.recipe_id == recipe.id%}
                <img class="recipe-image" src="{{file.src}}" onload="">
                {%endif%}
                {%endfor%}
            </div>
        <div class="gallery-preview">
        {%for file in recipeImages %}
        {%if file.recipe_id == recipe.id%}
        <img src="{{file.src}}" alt="{{file.name}}" onclick="ImageGallery.setImage(event)">
        {%endif%}
        {%endfor%}
        </div>
            <h2 class="title">{{recipe.title}}</h2>
            {%for chef in chefOptions %}
            {%if chef.id == recipe.chef_id%}
            <p class="author">por {{chef.name}}</p>
            {%endif%}
            {%endfor%}
        </div>
        <div class="recipe-details">
            <div class="recipe-titles">
                <h3 class="titles">Ingredientes</h3>
            </div>
            <div class="recipe-ingredients">
                {%- for items in recipe.ingredients | slice(1) %}
                    <ul class="recipe-ingredients-ul">
                        {%- for item in items %}
                            <li>{{ item }};</li>
                        {%- endfor %}
                    </ul>
                {%- endfor %}
            </div>
            <div class="recipe-titles">
                <h3 class="titles">Modo de preparo</h3>
            </div>
            {%- for items in recipe.preparation | slice(1) %}
                <ul class="recipe-preparation">
                    {%- for item in items %}
                        <li>{{ item }};</li>
                    {%- endfor %}
                </ul>
            {%- endfor %}
            <div class="recipe-titles">
                <h3 class="titles">Informações adicionais</h3>
            </div>
            <div class="recipe-information">
                <p>{{recipe.information}}</p>
            </div>
        </div>

        <div class="rights">
            <p>Todos direitos reservados, receitas Foodfy.</p>
        </div>
        
        <script src="/scripts.js"></script>

    {% endblock %}